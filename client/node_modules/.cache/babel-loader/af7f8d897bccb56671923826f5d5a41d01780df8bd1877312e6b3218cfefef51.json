{"ast":null,"code":"var _jsxFileName = \"/Users/maxoliverstapyltonnorris/H5P-Nodejs-library/packages/h5p-rest-example-client/src/components/ContentListEntryComponent.tsx\";\nimport React from 'react';\nimport ListGroupItem from 'react-bootstrap/ListGroupItem';\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Button from 'react-bootstrap/Button';\nimport Overlay from 'react-bootstrap/Overlay';\nimport Tooltip from 'react-bootstrap/Tooltip';\nimport Dropdown from 'react-bootstrap/Dropdown';\nimport Modal from 'react-bootstrap/Modal';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faFingerprint, faBookOpen, faWindowClose, faSave, faCheck, faPlay, faPencilAlt, faFileDownload, faTrashAlt, faCopyright } from '@fortawesome/free-solid-svg-icons';\nimport { H5PEditorUI, H5PPlayerUI } from '@lumieducation/h5p-react';\nimport './ContentListEntryComponent.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class ContentListEntryComponent extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = void 0;\n    this.h5pPlayer = void 0;\n    this.h5pEditor = void 0;\n    this.saveButton = void 0;\n    this.onPlayerInitialized = () => {\n      this.setState({\n        loading: false\n      });\n    };\n    this.onSaveError = async event => {\n      this.setState({\n        saving: false,\n        saved: false,\n        saveError: true,\n        saveErrorMessage: event.detail.message\n      });\n      setTimeout(() => {\n        this.setState({\n          saveError: false\n        });\n      }, 5000);\n    };\n    this.onSaved = async event => {\n      this.setState({\n        saving: false,\n        saved: true\n      });\n      setTimeout(() => {\n        this.setState({\n          saved: false\n        });\n      }, 3000);\n    };\n    this.onEditorLoaded = () => {\n      this.setState({\n        loading: false\n      });\n    };\n    this.state = {\n      editing: props.data.contentId === 'new',\n      playing: false,\n      saving: false,\n      saved: false,\n      loading: true,\n      saveErrorMessage: '',\n      saveError: false,\n      showingCustomCopyright: false\n    };\n    this.h5pEditor = /*#__PURE__*/React.createRef();\n    this.saveButton = /*#__PURE__*/React.createRef();\n    this.h5pPlayer = /*#__PURE__*/React.createRef();\n  }\n  render() {\n    var _this$props$data$orig, _this$h5pPlayer$curre, _this$h5pPlayer$curre2, _this$h5pPlayer$curre3;\n    return /*#__PURE__*/_jsxDEV(ListGroupItem, {\n      children: [/*#__PURE__*/_jsxDEV(Container, {\n        children: /*#__PURE__*/_jsxDEV(Row, {\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            className: \"p-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              children: this.props.data.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Row, {\n              className: \"small\",\n              children: [/*#__PURE__*/_jsxDEV(Col, {\n                className: \"me-2\",\n                lg: \"auto\",\n                children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                  icon: faBookOpen,\n                  className: \"me-1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 91,\n                  columnNumber: 37\n                }, this), this.props.data.mainLibrary]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 90,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                className: \"me-2\",\n                lg: \"auto\",\n                children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                  icon: faFingerprint,\n                  className: \"me-1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 98,\n                  columnNumber: 37\n                }, this), this.props.data.contentId]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 97,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 25\n          }, this), this.state.playing ? /*#__PURE__*/_jsxDEV(Col, {\n            className: \"p-2\",\n            lg: \"auto\",\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"light\",\n              onClick: () => this.close(),\n              children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                icon: faWindowClose,\n                className: \"me-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 112,\n                columnNumber: 37\n              }, this), \"close player\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 29\n          }, this) : undefined, this.state.playing && (_this$h5pPlayer$curre = this.h5pPlayer.current) !== null && _this$h5pPlayer$curre !== void 0 && _this$h5pPlayer$curre.hasCopyrightInformation() ? /*#__PURE__*/_jsxDEV(Col, {\n            className: \"p-2\",\n            lg: \"auto\",\n            children: /*#__PURE__*/_jsxDEV(Dropdown, {\n              children: [/*#__PURE__*/_jsxDEV(Dropdown.Toggle, {\n                variant: \"light\",\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                    icon: faCopyright,\n                    className: \"me-2\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 126,\n                    columnNumber: 45\n                  }, this), \"Copyright\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 125,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 124,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(Dropdown.Menu, {\n                children: [/*#__PURE__*/_jsxDEV(Dropdown.Item, {\n                  onClick: () => {\n                    this.showCopyrightCustom();\n                  },\n                  children: \"Show in custom dialog\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 134,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(Dropdown.Item, {\n                  onClick: () => {\n                    this.showCopyrightNative();\n                  },\n                  children: \"Show in native H5P dialog\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 141,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 133,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 123,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 29\n          }, this) : undefined, this.state.editing ? /*#__PURE__*/_jsxDEV(Col, {\n            className: \"p-2\",\n            lg: \"auto\",\n            children: [/*#__PURE__*/_jsxDEV(Overlay, {\n              target: this.saveButton.current,\n              show: this.state.saveError,\n              placement: \"right\",\n              children: /*#__PURE__*/_jsxDEV(Tooltip, {\n                id: \"error-tooltip\",\n                children: this.state.saveErrorMessage\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 159,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 154,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              ref: this.saveButton,\n              variant: \"primary\",\n              className: this.state.saving || this.state.loading ? 'disabled' : '',\n              disabled: this.state.saving || this.state.loading,\n              onClick: () => this.save(),\n              children: [this.state.saving ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"spinner-border spinner-border-sm m-1 align-middle\",\n                role: \"status\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 177,\n                columnNumber: 41\n              }, this) : /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                icon: faSave,\n                className: \"me-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 182,\n                columnNumber: 41\n              }, this), ' ', \"save\", ' ', this.state.saved ? /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                icon: faCheck,\n                className: \"me-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 189,\n                columnNumber: 41\n              }, this) : undefined]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 163,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 29\n          }, this) : undefined, this.state.editing && !this.isNew() ? /*#__PURE__*/_jsxDEV(Col, {\n            className: \"p-2\",\n            lg: \"auto\",\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"light\",\n              onClick: () => this.close(),\n              children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                icon: faWindowClose,\n                className: \"me-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 203,\n                columnNumber: 37\n              }, this), \"close editor\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 199,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 29\n          }, this) : undefined, this.state.editing && this.isNew() ? /*#__PURE__*/_jsxDEV(Col, {\n            className: \"p-2\",\n            lg: \"auto\",\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"light\",\n              onClick: () => this.props.onDiscard(this.props.data),\n              children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                icon: faWindowClose,\n                className: \"me-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 219,\n                columnNumber: 37\n              }, this), \"discard\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 213,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 29\n          }, this) : undefined, !this.isNew() ? /*#__PURE__*/_jsxDEV(React.Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(Col, {\n              className: \"p-2\",\n              lg: \"auto\",\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"success\",\n                onClick: () => this.play(),\n                children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                  icon: faPlay,\n                  className: \"me-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 234,\n                  columnNumber: 41\n                }, this), \"play\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 230,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 229,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              className: \"p-2\",\n              lg: \"auto\",\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"secondary\",\n                onClick: () => this.edit(),\n                children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                  icon: faPencilAlt,\n                  className: \"me-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 246,\n                  columnNumber: 41\n                }, this), \"edit\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 242,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 241,\n              columnNumber: 33\n            }, this), ' ', /*#__PURE__*/_jsxDEV(Col, {\n              className: \"p-2\",\n              lg: \"auto\",\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                href: this.props.generateDownloadLink(this.props.data.contentId),\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"info\",\n                  children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                    icon: faFileDownload,\n                    className: \"me-2\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 260,\n                    columnNumber: 45\n                  }, this), \"download\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 259,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 254,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 253,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              className: \"p-2\",\n              lg: \"auto\",\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"danger\",\n                onClick: () => this.props.onDelete(this.props.data),\n                children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                  icon: faTrashAlt,\n                  className: \"me-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 275,\n                  columnNumber: 41\n                }, this), \"delete\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 269,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 268,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 29\n          }, this) : undefined]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 17\n      }, this), this.state.editing ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: this.props.data.contentId !== 'new' && this.state.loading ? 'loading' : '',\n        children: /*#__PURE__*/_jsxDEV(H5PEditorUI, {\n          ref: this.h5pEditor,\n          contentId: this.props.data.contentId,\n          loadContentCallback: this.props.contentService.getEdit,\n          saveContentCallback: this.props.contentService.save,\n          onSaved: this.onSaved,\n          onLoaded: this.onEditorLoaded,\n          onSaveError: this.onSaveError\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 295,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 287,\n        columnNumber: 21\n      }, this) : undefined, this.state.playing ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: this.state.loading ? 'loading' : '',\n        children: [/*#__PURE__*/_jsxDEV(H5PPlayerUI, {\n          ref: this.h5pPlayer,\n          contentId: this.props.data.contentId,\n          loadContentCallback: this.props.contentService.getPlay,\n          onInitialized: this.onPlayerInitialized,\n          onxAPIStatement: (statement, context, event) => console.log(statement, context, event)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 310,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            visibility: this.state.loading ? 'visible' : 'collapse'\n          },\n          className: \"spinner-border spinner-border-sm m-2\",\n          role: \"status\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 323,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 21\n      }, this) : undefined, /*#__PURE__*/_jsxDEV(Modal, {\n        show: this.state.showingCustomCopyright,\n        children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n          children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n            children: \"Copyright information\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 336,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 335,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            dangerouslySetInnerHTML: {\n              __html: (_this$h5pPlayer$curre2 = (_this$h5pPlayer$curre3 = this.h5pPlayer.current) === null || _this$h5pPlayer$curre3 === void 0 ? void 0 : _this$h5pPlayer$curre3.getCopyrightHtml()) !== null && _this$h5pPlayer$curre2 !== void 0 ? _this$h5pPlayer$curre2 : 'No copyright information'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 340,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 339,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"primary\",\n            onClick: () => {\n              this.closeCopyrightCustom();\n            },\n            children: \"Close\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 350,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 349,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 334,\n        columnNumber: 17\n      }, this)]\n    }, (_this$props$data$orig = this.props.data.originalNewKey) !== null && _this$props$data$orig !== void 0 ? _this$props$data$orig : this.props.data.contentId, true, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }, this);\n  }\n  play() {\n    this.setState({\n      editing: false,\n      playing: true\n    });\n  }\n  edit() {\n    this.setState({\n      editing: true,\n      playing: false\n    });\n  }\n  close() {\n    this.setState({\n      editing: false,\n      playing: false\n    });\n  }\n  showCopyrightCustom() {\n    this.setState({\n      showingCustomCopyright: true\n    });\n  }\n  closeCopyrightCustom() {\n    this.setState({\n      showingCustomCopyright: false\n    });\n  }\n  showCopyrightNative() {\n    var _this$h5pPlayer$curre4;\n    (_this$h5pPlayer$curre4 = this.h5pPlayer.current) === null || _this$h5pPlayer$curre4 === void 0 ? void 0 : _this$h5pPlayer$curre4.showCopyright();\n  }\n  async save() {\n    this.setState({\n      saving: true\n    });\n    try {\n      var _this$h5pEditor$curre;\n      const returnData = await ((_this$h5pEditor$curre = this.h5pEditor.current) === null || _this$h5pEditor$curre === void 0 ? void 0 : _this$h5pEditor$curre.save());\n      if (returnData) {\n        await this.props.onSaved({\n          contentId: returnData.contentId,\n          mainLibrary: returnData.metadata.mainLibrary,\n          title: returnData.metadata.title,\n          originalNewKey: this.props.data.originalNewKey\n        });\n      }\n    } catch (error) {\n      // We ignore the error, as we subscribe to the 'save-error' and\n      // 'validation-error' events.\n    }\n  }\n  isNew() {\n    return this.props.data.contentId === 'new';\n  }\n}","map":{"version":3,"names":["React","ListGroupItem","Container","Row","Col","Button","Overlay","Tooltip","Dropdown","Modal","FontAwesomeIcon","faFingerprint","faBookOpen","faWindowClose","faSave","faCheck","faPlay","faPencilAlt","faFileDownload","faTrashAlt","faCopyright","H5PEditorUI","H5PPlayerUI","jsxDEV","_jsxDEV","ContentListEntryComponent","Component","constructor","props","state","h5pPlayer","h5pEditor","saveButton","onPlayerInitialized","setState","loading","onSaveError","event","saving","saved","saveError","saveErrorMessage","detail","message","setTimeout","onSaved","onEditorLoaded","editing","data","contentId","playing","showingCustomCopyright","createRef","render","_this$props$data$orig","_this$h5pPlayer$curre","_this$h5pPlayer$curre2","_this$h5pPlayer$curre3","children","className","title","fileName","_jsxFileName","lineNumber","columnNumber","lg","icon","mainLibrary","variant","onClick","close","undefined","current","hasCopyrightInformation","Toggle","Menu","Item","showCopyrightCustom","showCopyrightNative","target","show","placement","id","ref","disabled","save","role","isNew","onDiscard","Fragment","play","edit","href","generateDownloadLink","onDelete","loadContentCallback","contentService","getEdit","saveContentCallback","onLoaded","getPlay","onInitialized","onxAPIStatement","statement","context","console","log","style","visibility","Header","Title","Body","dangerouslySetInnerHTML","__html","getCopyrightHtml","Footer","closeCopyrightCustom","originalNewKey","_this$h5pPlayer$curre4","showCopyright","_this$h5pEditor$curre","returnData","metadata","error"],"sources":["/Users/maxoliverstapyltonnorris/H5P-Nodejs-library/packages/h5p-rest-example-client/src/components/ContentListEntryComponent.tsx"],"sourcesContent":["import React from 'react';\nimport ListGroupItem from 'react-bootstrap/ListGroupItem';\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Button from 'react-bootstrap/Button';\nimport Overlay from 'react-bootstrap/Overlay';\nimport Tooltip from 'react-bootstrap/Tooltip';\nimport Dropdown from 'react-bootstrap/Dropdown';\nimport Modal from 'react-bootstrap/Modal';\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport {\n    faFingerprint,\n    faBookOpen,\n    faWindowClose,\n    faSave,\n    faCheck,\n    faPlay,\n    faPencilAlt,\n    faFileDownload,\n    faTrashAlt,\n    faCopyright\n} from '@fortawesome/free-solid-svg-icons';\n\nimport { H5PEditorUI, H5PPlayerUI } from '@lumieducation/h5p-react';\n\nimport { IContentListEntry, IContentService } from '../services/ContentService';\nimport './ContentListEntryComponent.css';\n\nexport default class ContentListEntryComponent extends React.Component<{\n    contentService: IContentService;\n    data: IContentListEntry;\n    onDelete: (content: IContentListEntry) => void;\n    onDiscard: (content: IContentListEntry) => void;\n    onSaved: (data: IContentListEntry) => void;\n    generateDownloadLink: (contentId: string) => string;\n}> {\n    constructor(props: {\n        contentService: IContentService;\n        data: IContentListEntry;\n        onDiscard: (content: IContentListEntry) => void;\n        onDelete: (content: IContentListEntry) => void;\n        onSaved: (data: IContentListEntry) => void;\n        generateDownloadLink: (contentId: string) => string;\n    }) {\n        super(props);\n        this.state = {\n            editing: props.data.contentId === 'new',\n            playing: false,\n            saving: false,\n            saved: false,\n            loading: true,\n            saveErrorMessage: '',\n            saveError: false,\n            showingCustomCopyright: false\n        };\n        this.h5pEditor = React.createRef();\n        this.saveButton = React.createRef();\n        this.h5pPlayer = React.createRef();\n    }\n\n    public state: {\n        editing: boolean;\n        loading: boolean;\n        playing: boolean;\n        saved: boolean;\n        saving: boolean;\n        saveError: boolean;\n        saveErrorMessage: string;\n        showingCustomCopyright: boolean;\n    };\n\n    private h5pPlayer: React.RefObject<H5PPlayerUI>;\n    private h5pEditor: React.RefObject<H5PEditorUI>;\n    private saveButton: React.RefObject<HTMLButtonElement>;\n\n    public render(): React.ReactNode {\n        return (\n            <ListGroupItem\n                key={\n                    this.props.data.originalNewKey ?? this.props.data.contentId\n                }\n            >\n                <Container>\n                    <Row>\n                        <Col className=\"p-2\">\n                            <h5>{this.props.data.title}</h5>\n                            <Row className=\"small\">\n                                <Col className=\"me-2\" lg=\"auto\">\n                                    <FontAwesomeIcon\n                                        icon={faBookOpen}\n                                        className=\"me-1\"\n                                    />\n                                    {this.props.data.mainLibrary}\n                                </Col>\n                                <Col className=\"me-2\" lg=\"auto\">\n                                    <FontAwesomeIcon\n                                        icon={faFingerprint}\n                                        className=\"me-1\"\n                                    />\n                                    {this.props.data.contentId}\n                                </Col>\n                            </Row>\n                        </Col>\n                        {this.state.playing ? (\n                            <Col className=\"p-2\" lg=\"auto\">\n                                <Button\n                                    variant=\"light\"\n                                    onClick={() => this.close()}\n                                >\n                                    <FontAwesomeIcon\n                                        icon={faWindowClose}\n                                        className=\"me-2\"\n                                    />\n                                    close player\n                                </Button>\n                            </Col>\n                        ) : undefined}\n                        {this.state.playing &&\n                        this.h5pPlayer.current?.hasCopyrightInformation() ? (\n                            <Col className=\"p-2\" lg=\"auto\">\n                                <Dropdown>\n                                    <Dropdown.Toggle variant=\"light\">\n                                        <span>\n                                            <FontAwesomeIcon\n                                                icon={faCopyright}\n                                                className=\"me-2\"\n                                            />\n                                            Copyright\n                                        </span>\n                                    </Dropdown.Toggle>\n                                    <Dropdown.Menu>\n                                        <Dropdown.Item\n                                            onClick={() => {\n                                                this.showCopyrightCustom();\n                                            }}\n                                        >\n                                            Show in custom dialog\n                                        </Dropdown.Item>\n                                        <Dropdown.Item\n                                            onClick={() => {\n                                                this.showCopyrightNative();\n                                            }}\n                                        >\n                                            Show in native H5P dialog\n                                        </Dropdown.Item>\n                                    </Dropdown.Menu>\n                                </Dropdown>\n                            </Col>\n                        ) : undefined}\n                        {this.state.editing ? (\n                            <Col className=\"p-2\" lg=\"auto\">\n                                <Overlay\n                                    target={this.saveButton.current}\n                                    show={this.state.saveError}\n                                    placement=\"right\"\n                                >\n                                    <Tooltip id=\"error-tooltip\">\n                                        {this.state.saveErrorMessage}\n                                    </Tooltip>\n                                </Overlay>\n                                <Button\n                                    ref={this.saveButton}\n                                    variant=\"primary\"\n                                    className={\n                                        this.state.saving || this.state.loading\n                                            ? 'disabled'\n                                            : ''\n                                    }\n                                    disabled={\n                                        this.state.saving || this.state.loading\n                                    }\n                                    onClick={() => this.save()}\n                                >\n                                    {this.state.saving ? (\n                                        <div\n                                            className=\"spinner-border spinner-border-sm m-1 align-middle\"\n                                            role=\"status\"\n                                        ></div>\n                                    ) : (\n                                        <FontAwesomeIcon\n                                            icon={faSave}\n                                            className=\"me-2\"\n                                        />\n                                    )}{' '}\n                                    save{' '}\n                                    {this.state.saved ? (\n                                        <FontAwesomeIcon\n                                            icon={faCheck}\n                                            className=\"me-2\"\n                                        />\n                                    ) : undefined}\n                                </Button>\n                            </Col>\n                        ) : undefined}\n                        {this.state.editing && !this.isNew() ? (\n                            <Col className=\"p-2\" lg=\"auto\">\n                                <Button\n                                    variant=\"light\"\n                                    onClick={() => this.close()}\n                                >\n                                    <FontAwesomeIcon\n                                        icon={faWindowClose}\n                                        className=\"me-2\"\n                                    />\n                                    close editor\n                                </Button>\n                            </Col>\n                        ) : undefined}\n                        {this.state.editing && this.isNew() ? (\n                            <Col className=\"p-2\" lg=\"auto\">\n                                <Button\n                                    variant=\"light\"\n                                    onClick={() =>\n                                        this.props.onDiscard(this.props.data)\n                                    }\n                                >\n                                    <FontAwesomeIcon\n                                        icon={faWindowClose}\n                                        className=\"me-2\"\n                                    />\n                                    discard\n                                </Button>\n                            </Col>\n                        ) : undefined}\n                        {!this.isNew() ? (\n                            <React.Fragment>\n                                <Col className=\"p-2\" lg=\"auto\">\n                                    <Button\n                                        variant=\"success\"\n                                        onClick={() => this.play()}\n                                    >\n                                        <FontAwesomeIcon\n                                            icon={faPlay}\n                                            className=\"me-2\"\n                                        />\n                                        play\n                                    </Button>\n                                </Col>\n                                <Col className=\"p-2\" lg=\"auto\">\n                                    <Button\n                                        variant=\"secondary\"\n                                        onClick={() => this.edit()}\n                                    >\n                                        <FontAwesomeIcon\n                                            icon={faPencilAlt}\n                                            className=\"me-2\"\n                                        />\n                                        edit\n                                    </Button>\n                                </Col>{' '}\n                                <Col className=\"p-2\" lg=\"auto\">\n                                    <a\n                                        href={this.props.generateDownloadLink(\n                                            this.props.data.contentId\n                                        )}\n                                    >\n                                        <Button variant=\"info\">\n                                            <FontAwesomeIcon\n                                                icon={faFileDownload}\n                                                className=\"me-2\"\n                                            />\n                                            download\n                                        </Button>\n                                    </a>\n                                </Col>\n                                <Col className=\"p-2\" lg=\"auto\">\n                                    <Button\n                                        variant=\"danger\"\n                                        onClick={() =>\n                                            this.props.onDelete(this.props.data)\n                                        }\n                                    >\n                                        <FontAwesomeIcon\n                                            icon={faTrashAlt}\n                                            className=\"me-2\"\n                                        />\n                                        delete\n                                    </Button>\n                                </Col>\n                            </React.Fragment>\n                        ) : undefined}\n                    </Row>\n                </Container>\n                {this.state.editing ? (\n                    <div\n                        className={\n                            this.props.data.contentId !== 'new' &&\n                            this.state.loading\n                                ? 'loading'\n                                : ''\n                        }\n                    >\n                        <H5PEditorUI\n                            ref={this.h5pEditor}\n                            contentId={this.props.data.contentId}\n                            loadContentCallback={\n                                this.props.contentService.getEdit\n                            }\n                            saveContentCallback={this.props.contentService.save}\n                            onSaved={this.onSaved}\n                            onLoaded={this.onEditorLoaded}\n                            onSaveError={this.onSaveError}\n                        />\n                    </div>\n                ) : undefined}\n                {this.state.playing ? (\n                    <div className={this.state.loading ? 'loading' : ''}>\n                        <H5PPlayerUI\n                            ref={this.h5pPlayer}\n                            contentId={this.props.data.contentId}\n                            loadContentCallback={\n                                this.props.contentService.getPlay\n                            }\n                            onInitialized={this.onPlayerInitialized}\n                            onxAPIStatement={(\n                                statement: any,\n                                context: any,\n                                event\n                            ) => console.log(statement, context, event)}\n                        />\n                        <div\n                            style={{\n                                visibility: this.state.loading\n                                    ? 'visible'\n                                    : 'collapse'\n                            }}\n                            className=\"spinner-border spinner-border-sm m-2\"\n                            role=\"status\"\n                        ></div>\n                    </div>\n                ) : undefined}\n                <Modal show={this.state.showingCustomCopyright}>\n                    <Modal.Header>\n                        <Modal.Title>Copyright information</Modal.Title>\n                    </Modal.Header>\n\n                    <Modal.Body>\n                        <div\n                            dangerouslySetInnerHTML={{\n                                __html:\n                                    this.h5pPlayer.current?.getCopyrightHtml() ??\n                                    'No copyright information'\n                            }}\n                        ></div>\n                    </Modal.Body>\n\n                    <Modal.Footer>\n                        <Button\n                            variant=\"primary\"\n                            onClick={() => {\n                                this.closeCopyrightCustom();\n                            }}\n                        >\n                            Close\n                        </Button>\n                    </Modal.Footer>\n                </Modal>\n            </ListGroupItem>\n        );\n    }\n\n    protected play() {\n        this.setState({ editing: false, playing: true });\n    }\n\n    protected edit() {\n        this.setState({ editing: true, playing: false });\n    }\n\n    protected close() {\n        this.setState({ editing: false, playing: false });\n    }\n\n    protected showCopyrightCustom() {\n        this.setState({ showingCustomCopyright: true });\n    }\n\n    protected closeCopyrightCustom() {\n        this.setState({ showingCustomCopyright: false });\n    }\n\n    protected showCopyrightNative() {\n        this.h5pPlayer.current?.showCopyright();\n    }\n\n    private onPlayerInitialized = () => {\n        this.setState({ loading: false });\n    };\n\n    protected async save() {\n        this.setState({ saving: true });\n        try {\n            const returnData = await this.h5pEditor.current?.save();\n            if (returnData) {\n                await this.props.onSaved({\n                    contentId: returnData.contentId,\n                    mainLibrary: returnData.metadata.mainLibrary,\n                    title: returnData.metadata.title,\n                    originalNewKey: this.props.data.originalNewKey\n                });\n            }\n        } catch (error) {\n            // We ignore the error, as we subscribe to the 'save-error' and\n            // 'validation-error' events.\n        }\n    }\n\n    protected onSaveError = async (event) => {\n        this.setState({\n            saving: false,\n            saved: false,\n            saveError: true,\n            saveErrorMessage: event.detail.message\n        });\n        setTimeout(() => {\n            this.setState({\n                saveError: false\n            });\n        }, 5000);\n    };\n\n    protected onSaved = async (event) => {\n        this.setState({\n            saving: false,\n            saved: true\n        });\n        setTimeout(() => {\n            this.setState({ saved: false });\n        }, 3000);\n    };\n\n    protected onEditorLoaded = () => {\n        this.setState({ loading: false });\n    };\n\n    private isNew() {\n        return this.props.data.contentId === 'new';\n    }\n}\n"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,aAAa,MAAM,+BAA+B;AACzD,OAAOC,SAAS,MAAM,2BAA2B;AACjD,OAAOC,GAAG,MAAM,qBAAqB;AACrC,OAAOC,GAAG,MAAM,qBAAqB;AACrC,OAAOC,MAAM,MAAM,wBAAwB;AAC3C,OAAOC,OAAO,MAAM,yBAAyB;AAC7C,OAAOC,OAAO,MAAM,yBAAyB;AAC7C,OAAOC,QAAQ,MAAM,0BAA0B;AAC/C,OAAOC,KAAK,MAAM,uBAAuB;AAEzC,SAASC,eAAe,QAAQ,gCAAgC;AAChE,SACIC,aAAa,EACbC,UAAU,EACVC,aAAa,EACbC,MAAM,EACNC,OAAO,EACPC,MAAM,EACNC,WAAW,EACXC,cAAc,EACdC,UAAU,EACVC,WAAW,QACR,mCAAmC;AAE1C,SAASC,WAAW,EAAEC,WAAW,QAAQ,0BAA0B;AAGnE,OAAO,iCAAiC;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEzC,eAAe,MAAMC,yBAAyB,SAASzB,KAAK,CAAC0B,SAAS,CAOnE;EACCC,WAAWA,CAACC,KAOX,EAAE;IACC,KAAK,CAACA,KAAK,CAAC;IAAC,KAgBVC,KAAK;IAAA,KAWJC,SAAS;IAAA,KACTC,SAAS;IAAA,KACTC,UAAU;IAAA,KAwTVC,mBAAmB,GAAG,MAAM;MAChC,IAAI,CAACC,QAAQ,CAAC;QAAEC,OAAO,EAAE;MAAM,CAAC,CAAC;IACrC,CAAC;IAAA,KAoBSC,WAAW,GAAG,MAAOC,KAAK,IAAK;MACrC,IAAI,CAACH,QAAQ,CAAC;QACVI,MAAM,EAAE,KAAK;QACbC,KAAK,EAAE,KAAK;QACZC,SAAS,EAAE,IAAI;QACfC,gBAAgB,EAAEJ,KAAK,CAACK,MAAM,CAACC;MACnC,CAAC,CAAC;MACFC,UAAU,CAAC,MAAM;QACb,IAAI,CAACV,QAAQ,CAAC;UACVM,SAAS,EAAE;QACf,CAAC,CAAC;MACN,CAAC,EAAE,IAAI,CAAC;IACZ,CAAC;IAAA,KAESK,OAAO,GAAG,MAAOR,KAAK,IAAK;MACjC,IAAI,CAACH,QAAQ,CAAC;QACVI,MAAM,EAAE,KAAK;QACbC,KAAK,EAAE;MACX,CAAC,CAAC;MACFK,UAAU,CAAC,MAAM;QACb,IAAI,CAACV,QAAQ,CAAC;UAAEK,KAAK,EAAE;QAAM,CAAC,CAAC;MACnC,CAAC,EAAE,IAAI,CAAC;IACZ,CAAC;IAAA,KAESO,cAAc,GAAG,MAAM;MAC7B,IAAI,CAACZ,QAAQ,CAAC;QAAEC,OAAO,EAAE;MAAM,CAAC,CAAC;IACrC,CAAC;IApYG,IAAI,CAACN,KAAK,GAAG;MACTkB,OAAO,EAAEnB,KAAK,CAACoB,IAAI,CAACC,SAAS,KAAK,KAAK;MACvCC,OAAO,EAAE,KAAK;MACdZ,MAAM,EAAE,KAAK;MACbC,KAAK,EAAE,KAAK;MACZJ,OAAO,EAAE,IAAI;MACbM,gBAAgB,EAAE,EAAE;MACpBD,SAAS,EAAE,KAAK;MAChBW,sBAAsB,EAAE;IAC5B,CAAC;IACD,IAAI,CAACpB,SAAS,gBAAG/B,KAAK,CAACoD,SAAS,CAAC,CAAC;IAClC,IAAI,CAACpB,UAAU,gBAAGhC,KAAK,CAACoD,SAAS,CAAC,CAAC;IACnC,IAAI,CAACtB,SAAS,gBAAG9B,KAAK,CAACoD,SAAS,CAAC,CAAC;EACtC;EAiBOC,MAAMA,CAAA,EAAoB;IAAA,IAAAC,qBAAA,EAAAC,qBAAA,EAAAC,sBAAA,EAAAC,sBAAA;IAC7B,oBACIjC,OAAA,CAACvB,aAAa;MAAAyD,QAAA,gBAKVlC,OAAA,CAACtB,SAAS;QAAAwD,QAAA,eACNlC,OAAA,CAACrB,GAAG;UAAAuD,QAAA,gBACAlC,OAAA,CAACpB,GAAG;YAACuD,SAAS,EAAC,KAAK;YAAAD,QAAA,gBAChBlC,OAAA;cAAAkC,QAAA,EAAK,IAAI,CAAC9B,KAAK,CAACoB,IAAI,CAACY;YAAK;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC,eAChCxC,OAAA,CAACrB,GAAG;cAACwD,SAAS,EAAC,OAAO;cAAAD,QAAA,gBAClBlC,OAAA,CAACpB,GAAG;gBAACuD,SAAS,EAAC,MAAM;gBAACM,EAAE,EAAC,MAAM;gBAAAP,QAAA,gBAC3BlC,OAAA,CAACd,eAAe;kBACZwD,IAAI,EAAEtD,UAAW;kBACjB+C,SAAS,EAAC;gBAAM;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACnB,CAAC,EACD,IAAI,CAACpC,KAAK,CAACoB,IAAI,CAACmB,WAAW;cAAA;gBAAAN,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC3B,CAAC,eACNxC,OAAA,CAACpB,GAAG;gBAACuD,SAAS,EAAC,MAAM;gBAACM,EAAE,EAAC,MAAM;gBAAAP,QAAA,gBAC3BlC,OAAA,CAACd,eAAe;kBACZwD,IAAI,EAAEvD,aAAc;kBACpBgD,SAAS,EAAC;gBAAM;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACnB,CAAC,EACD,IAAI,CAACpC,KAAK,CAACoB,IAAI,CAACC,SAAS;cAAA;gBAAAY,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACzB,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACL,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACL,CAAC,EACL,IAAI,CAACnC,KAAK,CAACqB,OAAO,gBACf1B,OAAA,CAACpB,GAAG;YAACuD,SAAS,EAAC,KAAK;YAACM,EAAE,EAAC,MAAM;YAAAP,QAAA,eAC1BlC,OAAA,CAACnB,MAAM;cACH+D,OAAO,EAAC,OAAO;cACfC,OAAO,EAAEA,CAAA,KAAM,IAAI,CAACC,KAAK,CAAC,CAAE;cAAAZ,QAAA,gBAE5BlC,OAAA,CAACd,eAAe;gBACZwD,IAAI,EAAErD,aAAc;gBACpB8C,SAAS,EAAC;cAAM;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACnB,CAAC,gBAEN;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACR,CAAC,GACNO,SAAS,EACZ,IAAI,CAAC1C,KAAK,CAACqB,OAAO,KAAAK,qBAAA,GACnB,IAAI,CAACzB,SAAS,CAAC0C,OAAO,cAAAjB,qBAAA,eAAtBA,qBAAA,CAAwBkB,uBAAuB,CAAC,CAAC,gBAC7CjD,OAAA,CAACpB,GAAG;YAACuD,SAAS,EAAC,KAAK;YAACM,EAAE,EAAC,MAAM;YAAAP,QAAA,eAC1BlC,OAAA,CAAChB,QAAQ;cAAAkD,QAAA,gBACLlC,OAAA,CAAChB,QAAQ,CAACkE,MAAM;gBAACN,OAAO,EAAC,OAAO;gBAAAV,QAAA,eAC5BlC,OAAA;kBAAAkC,QAAA,gBACIlC,OAAA,CAACd,eAAe;oBACZwD,IAAI,EAAE9C,WAAY;oBAClBuC,SAAS,EAAC;kBAAM;oBAAAE,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACnB,CAAC,aAEN;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACM,CAAC,eAClBxC,OAAA,CAAChB,QAAQ,CAACmE,IAAI;gBAAAjB,QAAA,gBACVlC,OAAA,CAAChB,QAAQ,CAACoE,IAAI;kBACVP,OAAO,EAAEA,CAAA,KAAM;oBACX,IAAI,CAACQ,mBAAmB,CAAC,CAAC;kBAC9B,CAAE;kBAAAnB,QAAA,EACL;gBAED;kBAAAG,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAe,CAAC,eAChBxC,OAAA,CAAChB,QAAQ,CAACoE,IAAI;kBACVP,OAAO,EAAEA,CAAA,KAAM;oBACX,IAAI,CAACS,mBAAmB,CAAC,CAAC;kBAC9B,CAAE;kBAAApB,QAAA,EACL;gBAED;kBAAAG,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAe,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACL,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACV;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACV,CAAC,GACNO,SAAS,EACZ,IAAI,CAAC1C,KAAK,CAACkB,OAAO,gBACfvB,OAAA,CAACpB,GAAG;YAACuD,SAAS,EAAC,KAAK;YAACM,EAAE,EAAC,MAAM;YAAAP,QAAA,gBAC1BlC,OAAA,CAAClB,OAAO;cACJyE,MAAM,EAAE,IAAI,CAAC/C,UAAU,CAACwC,OAAQ;cAChCQ,IAAI,EAAE,IAAI,CAACnD,KAAK,CAACW,SAAU;cAC3ByC,SAAS,EAAC,OAAO;cAAAvB,QAAA,eAEjBlC,OAAA,CAACjB,OAAO;gBAAC2E,EAAE,EAAC,eAAe;gBAAAxB,QAAA,EACtB,IAAI,CAAC7B,KAAK,CAACY;cAAgB;gBAAAoB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACvB;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACL,CAAC,eACVxC,OAAA,CAACnB,MAAM;cACH8E,GAAG,EAAE,IAAI,CAACnD,UAAW;cACrBoC,OAAO,EAAC,SAAS;cACjBT,SAAS,EACL,IAAI,CAAC9B,KAAK,CAACS,MAAM,IAAI,IAAI,CAACT,KAAK,CAACM,OAAO,GACjC,UAAU,GACV,EACT;cACDiD,QAAQ,EACJ,IAAI,CAACvD,KAAK,CAACS,MAAM,IAAI,IAAI,CAACT,KAAK,CAACM,OACnC;cACDkC,OAAO,EAAEA,CAAA,KAAM,IAAI,CAACgB,IAAI,CAAC,CAAE;cAAA3B,QAAA,GAE1B,IAAI,CAAC7B,KAAK,CAACS,MAAM,gBACdd,OAAA;gBACImC,SAAS,EAAC,mDAAmD;gBAC7D2B,IAAI,EAAC;cAAQ;gBAAAzB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACX,CAAC,gBAEPxC,OAAA,CAACd,eAAe;gBACZwD,IAAI,EAAEpD,MAAO;gBACb6C,SAAS,EAAC;cAAM;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACnB,CACJ,EAAE,GAAG,EAAC,MACH,EAAC,GAAG,EACP,IAAI,CAACnC,KAAK,CAACU,KAAK,gBACbf,OAAA,CAACd,eAAe;gBACZwD,IAAI,EAAEnD,OAAQ;gBACd4C,SAAS,EAAC;cAAM;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACnB,CAAC,GACFO,SAAS;YAAA;cAAAV,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACT,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACR,CAAC,GACNO,SAAS,EACZ,IAAI,CAAC1C,KAAK,CAACkB,OAAO,IAAI,CAAC,IAAI,CAACwC,KAAK,CAAC,CAAC,gBAChC/D,OAAA,CAACpB,GAAG;YAACuD,SAAS,EAAC,KAAK;YAACM,EAAE,EAAC,MAAM;YAAAP,QAAA,eAC1BlC,OAAA,CAACnB,MAAM;cACH+D,OAAO,EAAC,OAAO;cACfC,OAAO,EAAEA,CAAA,KAAM,IAAI,CAACC,KAAK,CAAC,CAAE;cAAAZ,QAAA,gBAE5BlC,OAAA,CAACd,eAAe;gBACZwD,IAAI,EAAErD,aAAc;gBACpB8C,SAAS,EAAC;cAAM;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACnB,CAAC,gBAEN;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACR,CAAC,GACNO,SAAS,EACZ,IAAI,CAAC1C,KAAK,CAACkB,OAAO,IAAI,IAAI,CAACwC,KAAK,CAAC,CAAC,gBAC/B/D,OAAA,CAACpB,GAAG;YAACuD,SAAS,EAAC,KAAK;YAACM,EAAE,EAAC,MAAM;YAAAP,QAAA,eAC1BlC,OAAA,CAACnB,MAAM;cACH+D,OAAO,EAAC,OAAO;cACfC,OAAO,EAAEA,CAAA,KACL,IAAI,CAACzC,KAAK,CAAC4D,SAAS,CAAC,IAAI,CAAC5D,KAAK,CAACoB,IAAI,CACvC;cAAAU,QAAA,gBAEDlC,OAAA,CAACd,eAAe;gBACZwD,IAAI,EAAErD,aAAc;gBACpB8C,SAAS,EAAC;cAAM;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACnB,CAAC,WAEN;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACR,CAAC,GACNO,SAAS,EACZ,CAAC,IAAI,CAACgB,KAAK,CAAC,CAAC,gBACV/D,OAAA,CAACxB,KAAK,CAACyF,QAAQ;YAAA/B,QAAA,gBACXlC,OAAA,CAACpB,GAAG;cAACuD,SAAS,EAAC,KAAK;cAACM,EAAE,EAAC,MAAM;cAAAP,QAAA,eAC1BlC,OAAA,CAACnB,MAAM;gBACH+D,OAAO,EAAC,SAAS;gBACjBC,OAAO,EAAEA,CAAA,KAAM,IAAI,CAACqB,IAAI,CAAC,CAAE;gBAAAhC,QAAA,gBAE3BlC,OAAA,CAACd,eAAe;kBACZwD,IAAI,EAAElD,MAAO;kBACb2C,SAAS,EAAC;gBAAM;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACnB,CAAC,QAEN;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACR,CAAC,eACNxC,OAAA,CAACpB,GAAG;cAACuD,SAAS,EAAC,KAAK;cAACM,EAAE,EAAC,MAAM;cAAAP,QAAA,eAC1BlC,OAAA,CAACnB,MAAM;gBACH+D,OAAO,EAAC,WAAW;gBACnBC,OAAO,EAAEA,CAAA,KAAM,IAAI,CAACsB,IAAI,CAAC,CAAE;gBAAAjC,QAAA,gBAE3BlC,OAAA,CAACd,eAAe;kBACZwD,IAAI,EAAEjD,WAAY;kBAClB0C,SAAS,EAAC;gBAAM;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACnB,CAAC,QAEN;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACR,CAAC,EAAC,GAAG,eACVxC,OAAA,CAACpB,GAAG;cAACuD,SAAS,EAAC,KAAK;cAACM,EAAE,EAAC,MAAM;cAAAP,QAAA,eAC1BlC,OAAA;gBACIoE,IAAI,EAAE,IAAI,CAAChE,KAAK,CAACiE,oBAAoB,CACjC,IAAI,CAACjE,KAAK,CAACoB,IAAI,CAACC,SACpB,CAAE;gBAAAS,QAAA,eAEFlC,OAAA,CAACnB,MAAM;kBAAC+D,OAAO,EAAC,MAAM;kBAAAV,QAAA,gBAClBlC,OAAA,CAACd,eAAe;oBACZwD,IAAI,EAAEhD,cAAe;oBACrByC,SAAS,EAAC;kBAAM;oBAAAE,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACnB,CAAC,YAEN;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACV;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CAAC,eACNxC,OAAA,CAACpB,GAAG;cAACuD,SAAS,EAAC,KAAK;cAACM,EAAE,EAAC,MAAM;cAAAP,QAAA,eAC1BlC,OAAA,CAACnB,MAAM;gBACH+D,OAAO,EAAC,QAAQ;gBAChBC,OAAO,EAAEA,CAAA,KACL,IAAI,CAACzC,KAAK,CAACkE,QAAQ,CAAC,IAAI,CAAClE,KAAK,CAACoB,IAAI,CACtC;gBAAAU,QAAA,gBAEDlC,OAAA,CAACd,eAAe;kBACZwD,IAAI,EAAE/C,UAAW;kBACjBwC,SAAS,EAAC;gBAAM;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACnB,CAAC,UAEN;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACR,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACM,CAAC,GACjBO,SAAS;QAAA;UAAAV,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACZ;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC,EACX,IAAI,CAACnC,KAAK,CAACkB,OAAO,gBACfvB,OAAA;QACImC,SAAS,EACL,IAAI,CAAC/B,KAAK,CAACoB,IAAI,CAACC,SAAS,KAAK,KAAK,IACnC,IAAI,CAACpB,KAAK,CAACM,OAAO,GACZ,SAAS,GACT,EACT;QAAAuB,QAAA,eAEDlC,OAAA,CAACH,WAAW;UACR8D,GAAG,EAAE,IAAI,CAACpD,SAAU;UACpBkB,SAAS,EAAE,IAAI,CAACrB,KAAK,CAACoB,IAAI,CAACC,SAAU;UACrC8C,mBAAmB,EACf,IAAI,CAACnE,KAAK,CAACoE,cAAc,CAACC,OAC7B;UACDC,mBAAmB,EAAE,IAAI,CAACtE,KAAK,CAACoE,cAAc,CAACX,IAAK;UACpDxC,OAAO,EAAE,IAAI,CAACA,OAAQ;UACtBsD,QAAQ,EAAE,IAAI,CAACrD,cAAe;UAC9BV,WAAW,EAAE,IAAI,CAACA;QAAY;UAAAyB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACjC;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACD,CAAC,GACNO,SAAS,EACZ,IAAI,CAAC1C,KAAK,CAACqB,OAAO,gBACf1B,OAAA;QAAKmC,SAAS,EAAE,IAAI,CAAC9B,KAAK,CAACM,OAAO,GAAG,SAAS,GAAG,EAAG;QAAAuB,QAAA,gBAChDlC,OAAA,CAACF,WAAW;UACR6D,GAAG,EAAE,IAAI,CAACrD,SAAU;UACpBmB,SAAS,EAAE,IAAI,CAACrB,KAAK,CAACoB,IAAI,CAACC,SAAU;UACrC8C,mBAAmB,EACf,IAAI,CAACnE,KAAK,CAACoE,cAAc,CAACI,OAC7B;UACDC,aAAa,EAAE,IAAI,CAACpE,mBAAoB;UACxCqE,eAAe,EAAEA,CACbC,SAAc,EACdC,OAAY,EACZnE,KAAK,KACJoE,OAAO,CAACC,GAAG,CAACH,SAAS,EAAEC,OAAO,EAAEnE,KAAK;QAAE;UAAAwB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC/C,CAAC,eACFxC,OAAA;UACImF,KAAK,EAAE;YACHC,UAAU,EAAE,IAAI,CAAC/E,KAAK,CAACM,OAAO,GACxB,SAAS,GACT;UACV,CAAE;UACFwB,SAAS,EAAC,sCAAsC;UAChD2B,IAAI,EAAC;QAAQ;UAAAzB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACX,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC,GACNO,SAAS,eACb/C,OAAA,CAACf,KAAK;QAACuE,IAAI,EAAE,IAAI,CAACnD,KAAK,CAACsB,sBAAuB;QAAAO,QAAA,gBAC3ClC,OAAA,CAACf,KAAK,CAACoG,MAAM;UAAAnD,QAAA,eACTlC,OAAA,CAACf,KAAK,CAACqG,KAAK;YAAApD,QAAA,EAAC;UAAqB;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAa;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACtC,CAAC,eAEfxC,OAAA,CAACf,KAAK,CAACsG,IAAI;UAAArD,QAAA,eACPlC,OAAA;YACIwF,uBAAuB,EAAE;cACrBC,MAAM,GAAAzD,sBAAA,IAAAC,sBAAA,GACF,IAAI,CAAC3B,SAAS,CAAC0C,OAAO,cAAAf,sBAAA,uBAAtBA,sBAAA,CAAwByD,gBAAgB,CAAC,CAAC,cAAA1D,sBAAA,cAAAA,sBAAA,GAC1C;YACR;UAAE;YAAAK,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACA;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC,eAEbxC,OAAA,CAACf,KAAK,CAAC0G,MAAM;UAAAzD,QAAA,eACTlC,OAAA,CAACnB,MAAM;YACH+D,OAAO,EAAC,SAAS;YACjBC,OAAO,EAAEA,CAAA,KAAM;cACX,IAAI,CAAC+C,oBAAoB,CAAC,CAAC;YAC/B,CAAE;YAAA1D,QAAA,EACL;UAED;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACZ,CAAC;IAAA,IAAAV,qBAAA,GArRJ,IAAI,CAAC1B,KAAK,CAACoB,IAAI,CAACqE,cAAc,cAAA/D,qBAAA,cAAAA,qBAAA,GAAI,IAAI,CAAC1B,KAAK,CAACoB,IAAI,CAACC,SAAS;MAAAY,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAsRpD,CAAC;EAExB;EAEU0B,IAAIA,CAAA,EAAG;IACb,IAAI,CAACxD,QAAQ,CAAC;MAAEa,OAAO,EAAE,KAAK;MAAEG,OAAO,EAAE;IAAK,CAAC,CAAC;EACpD;EAEUyC,IAAIA,CAAA,EAAG;IACb,IAAI,CAACzD,QAAQ,CAAC;MAAEa,OAAO,EAAE,IAAI;MAAEG,OAAO,EAAE;IAAM,CAAC,CAAC;EACpD;EAEUoB,KAAKA,CAAA,EAAG;IACd,IAAI,CAACpC,QAAQ,CAAC;MAAEa,OAAO,EAAE,KAAK;MAAEG,OAAO,EAAE;IAAM,CAAC,CAAC;EACrD;EAEU2B,mBAAmBA,CAAA,EAAG;IAC5B,IAAI,CAAC3C,QAAQ,CAAC;MAAEiB,sBAAsB,EAAE;IAAK,CAAC,CAAC;EACnD;EAEUiE,oBAAoBA,CAAA,EAAG;IAC7B,IAAI,CAAClF,QAAQ,CAAC;MAAEiB,sBAAsB,EAAE;IAAM,CAAC,CAAC;EACpD;EAEU2B,mBAAmBA,CAAA,EAAG;IAAA,IAAAwC,sBAAA;IAC5B,CAAAA,sBAAA,OAAI,CAACxF,SAAS,CAAC0C,OAAO,cAAA8C,sBAAA,uBAAtBA,sBAAA,CAAwBC,aAAa,CAAC,CAAC;EAC3C;EAMA,MAAgBlC,IAAIA,CAAA,EAAG;IACnB,IAAI,CAACnD,QAAQ,CAAC;MAAEI,MAAM,EAAE;IAAK,CAAC,CAAC;IAC/B,IAAI;MAAA,IAAAkF,qBAAA;MACA,MAAMC,UAAU,GAAG,QAAAD,qBAAA,GAAM,IAAI,CAACzF,SAAS,CAACyC,OAAO,cAAAgD,qBAAA,uBAAtBA,qBAAA,CAAwBnC,IAAI,CAAC,CAAC;MACvD,IAAIoC,UAAU,EAAE;QACZ,MAAM,IAAI,CAAC7F,KAAK,CAACiB,OAAO,CAAC;UACrBI,SAAS,EAAEwE,UAAU,CAACxE,SAAS;UAC/BkB,WAAW,EAAEsD,UAAU,CAACC,QAAQ,CAACvD,WAAW;UAC5CP,KAAK,EAAE6D,UAAU,CAACC,QAAQ,CAAC9D,KAAK;UAChCyD,cAAc,EAAE,IAAI,CAACzF,KAAK,CAACoB,IAAI,CAACqE;QACpC,CAAC,CAAC;MACN;IACJ,CAAC,CAAC,OAAOM,KAAK,EAAE;MACZ;MACA;IAAA;EAER;EA8BQpC,KAAKA,CAAA,EAAG;IACZ,OAAO,IAAI,CAAC3D,KAAK,CAACoB,IAAI,CAACC,SAAS,KAAK,KAAK;EAC9C;AACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}