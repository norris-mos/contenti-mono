{"ast":null,"code":"var _jsxFileName = \"/Users/maxoliverstapyltonnorris/contenti-mono/client/src/components/ContentListEntryComponent.tsx\";\nimport React from 'react';\nimport ListGroupItem from 'react-bootstrap/ListGroupItem';\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Button from 'react-bootstrap/Button';\nimport Overlay from 'react-bootstrap/Overlay';\nimport Tooltip from 'react-bootstrap/Tooltip';\nimport Dropdown from 'react-bootstrap/Dropdown';\nimport Modal from 'react-bootstrap/Modal';\n\n// want to add button ai button to generate new content and runs save on completion\n// there will be a post request to h5p content file\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faFingerprint, faBookOpen, faWindowClose, faSave, faCheck, faPlay, faPencilAlt, faFileDownload, faTrashAlt, faCopyright } from '@fortawesome/free-solid-svg-icons';\nimport { H5PEditorUI, H5PPlayerUI } from '@lumieducation/h5p-react';\nimport './ContentListEntryComponent.css';\nimport Label from './LabelsMetadataComponent';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class ContentListEntryComponent extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = void 0;\n    this.h5pPlayer = void 0;\n    this.h5pEditor = void 0;\n    this.saveButton = void 0;\n    this.onPlayerInitialized = () => {\n      this.setState({\n        loading: false\n      });\n    };\n    this.onSaveError = async event => {\n      this.setState({\n        saving: false,\n        saved: false,\n        saveError: true,\n        saveErrorMessage: 'this doesnt work' // event.detail.message,\n      });\n\n      setTimeout(() => {\n        this.setState({\n          saveError: false\n        });\n      }, 5000);\n    };\n    // NOTE that this onSaved is diferent\n    this.onSaved = async event => {\n      this.setState({\n        saving: false,\n        saved: true\n      });\n      setTimeout(() => {\n        this.setState({\n          saved: false\n        });\n      }, 3000);\n    };\n    this.onEditorLoaded = () => {\n      this.setState({\n        loading: false\n      });\n      const selectedElement = this.props.data.mainLibrary;\n      console.log(selectedElement);\n      this.setState({\n        inputValue: `You have selected ${selectedElement}. \\nPlease try to be specific and creative in your prompting, examples include: \\n\\n1) Specifying particular pedagogical terms such as \"aim higher questions\" or \"scaffolded questions\".\\n\\n 2)Anchor the prompt to a specific syllabus e.g \"Make sure the questions are suitable for GCSE english\".   `\n      });\n    };\n    this.toggleLabelsComponent = () => {\n      this.setState(() => ({\n        showLabels: true // Access the 'showLabels' directly\n      }));\n    };\n    this.toggleLabelsComponentoff = () => {\n      console.log('closing');\n      this.setState(() => ({\n        showLabels: false // Access the 'showLabels' directly\n      }));\n    };\n    this.saveLabels = selectedLabels => {\n      // Process and save the selected labels here\n      // For example, you can store them in the component's state or call a service to save them\n      console.log('this should be closing');\n      this.toggleLabelsComponentoff(); // Close the modal when labels are saved\n      console.log('this should be closing');\n      console.log('Selected Labels:', selectedLabels);\n    };\n    this.handleStarRatingChange = rating => {\n      this.setState({\n        starRating: rating\n      });\n    };\n    this.handleButtonRatingChange = review => {\n      this.setState({\n        promptEval: review\n      });\n    };\n    this.state = {\n      editing: props.data.contentId === 'new',\n      playing: false,\n      saving: false,\n      saved: false,\n      loading: true,\n      saveErrorMessage: '',\n      saveError: false,\n      showingCustomCopyright: false,\n      inputValue: 'Please select a content type to start',\n      promptEdit: false,\n      starRating: 0,\n      showStars: false,\n      swapPrompt: false,\n      secondPrompt: '',\n      showLabels: false,\n      promptEval: '',\n      selectedButtonIndex: ''\n    };\n    this.h5pEditor = /*#__PURE__*/React.createRef();\n    this.saveButton = /*#__PURE__*/React.createRef();\n    this.h5pPlayer = /*#__PURE__*/React.createRef();\n  }\n  render() {\n    var _this$props$data$orig, _this$h5pPlayer$curre, _this$h5pPlayer$curre2, _this$h5pPlayer$curre3;\n    return /*#__PURE__*/_jsxDEV(ListGroupItem, {\n      children: [/*#__PURE__*/_jsxDEV(Container, {\n        children: /*#__PURE__*/_jsxDEV(Row, {\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            className: \"p-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              children: this.props.data.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Row, {\n              className: \"small\",\n              children: [/*#__PURE__*/_jsxDEV(Col, {\n                className: \"me-2\",\n                lg: \"auto\",\n                children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                  icon: faBookOpen,\n                  className: \"me-1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 113,\n                  columnNumber: 19\n                }, this), this.props.data.mainLibrary]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 112,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                className: \"me-2\",\n                lg: \"auto\",\n                children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                  icon: faFingerprint,\n                  className: \"me-1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 117,\n                  columnNumber: 19\n                }, this), this.props.data.contentId]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 116,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 13\n          }, this), this.state.playing ? /*#__PURE__*/_jsxDEV(Col, {\n            className: \"p-2\",\n            lg: \"auto\",\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"light\",\n              onClick: () => this.close(),\n              children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                icon: faWindowClose,\n                className: \"me-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 125,\n                columnNumber: 19\n              }, this), \"close player\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 15\n          }, this) : undefined, this.state.playing && (_this$h5pPlayer$curre = this.h5pPlayer.current) !== null && _this$h5pPlayer$curre !== void 0 && _this$h5pPlayer$curre.hasCopyrightInformation() ? /*#__PURE__*/_jsxDEV(Col, {\n            className: \"p-2\",\n            lg: \"auto\",\n            children: /*#__PURE__*/_jsxDEV(Dropdown, {\n              children: [/*#__PURE__*/_jsxDEV(Dropdown.Toggle, {\n                variant: \"light\",\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                    icon: faCopyright,\n                    className: \"me-2\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 136,\n                    columnNumber: 23\n                  }, this), \"Copyright\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 135,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 134,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Dropdown.Menu, {\n                children: [/*#__PURE__*/_jsxDEV(Dropdown.Item, {\n                  onClick: () => {\n                    this.showCopyrightCustom();\n                  },\n                  children: \"Show in custom dialog\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 141,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Dropdown.Item, {\n                  onClick: () => {\n                    this.showCopyrightNative();\n                  },\n                  children: \"Show in native H5P dialog\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 148,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 140,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 15\n          }, this) : undefined, this.state.editing ? /*#__PURE__*/_jsxDEV(Col, {\n            className: \"p-2\",\n            lg: \"auto\",\n            children: [/*#__PURE__*/_jsxDEV(Overlay, {\n              target: this.saveButton.current,\n              show: this.state.saveError,\n              placement: \"right\",\n              children: /*#__PURE__*/_jsxDEV(Tooltip, {\n                id: \"error-tooltip\",\n                children: this.state.saveErrorMessage\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 166,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 161,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              ref: this.saveButton,\n              variant: \"primary\",\n              className: this.state.saving || this.state.loading ? 'disabled' : '',\n              disabled: this.state.saving || this.state.loading,\n              onClick: () => this.save(),\n              children: [this.state.saving ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"spinner-border spinner-border-sm m-1 align-middle\",\n                role: \"status\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 180,\n                columnNumber: 21\n              }, this) : /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                icon: faSave,\n                className: \"me-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 185,\n                columnNumber: 21\n              }, this), ' ', \"save\", ' ', this.state.saved ? /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                icon: faCheck,\n                className: \"me-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 189,\n                columnNumber: 21\n              }, this) : undefined]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 15\n          }, this) : undefined, this.state.editing && !this.isNew() ? /*#__PURE__*/_jsxDEV(Col, {\n            className: \"p-2\",\n            lg: \"auto\",\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"light\",\n              onClick: () => this.close(),\n              children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                icon: faWindowClose,\n                className: \"me-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 197,\n                columnNumber: 19\n              }, this), \"close editor\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 15\n          }, this) : undefined, this.state.editing && this.isNew() ? /*#__PURE__*/_jsxDEV(Col, {\n            className: \"p-2\",\n            lg: \"auto\",\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"light\",\n              onClick: () => this.props.onDiscard(this.props.data),\n              children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                icon: faWindowClose,\n                className: \"me-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 208,\n                columnNumber: 19\n              }, this), \"discard\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 204,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 15\n          }, this) : undefined, !this.isNew() ? /*#__PURE__*/_jsxDEV(React.Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(Col, {\n              className: \"p-2\",\n              lg: \"auto\",\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"success\",\n                onClick: () => this.play(),\n                children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                  icon: faPlay,\n                  className: \"me-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 217,\n                  columnNumber: 21\n                }, this), \"play\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 216,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 215,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              className: \"p-2\",\n              lg: \"auto\",\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"secondary\",\n                onClick: () => this.edit(),\n                children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                  icon: faPencilAlt,\n                  className: \"me-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 223,\n                  columnNumber: 21\n                }, this), \"edit\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 222,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 221,\n              columnNumber: 17\n            }, this), ' ', /*#__PURE__*/_jsxDEV(Col, {\n              className: \"p-2\",\n              lg: \"auto\",\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                href: this.props.generateDownloadLink(this.props.data.contentId),\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"info\",\n                  children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                    icon: faFileDownload,\n                    className: \"me-2\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 234,\n                    columnNumber: 23\n                  }, this), \"download\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 233,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 228,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 227,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              className: \"p-2\",\n              lg: \"auto\",\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"danger\",\n                onClick: () => this.props.onDelete(this.props.data),\n                children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                  icon: faTrashAlt,\n                  className: \"me-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 244,\n                  columnNumber: 21\n                }, this), \"delete\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 240,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 239,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 214,\n            columnNumber: 15\n          }, this) : undefined, this.state.promptEdit ? /*#__PURE__*/_jsxDEV(Col, {\n            className: \"p-2\",\n            lg: \"auto\",\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"primary\",\n              onClick: () => this.switchPrompt(),\n              children: \"Switch Prompt\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 252,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 15\n          }, this) : undefined]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }, this), this.state.editing ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: this.props.data.contentId !== 'new' && this.state.loading ? 'loading' : '',\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"h5p-input-container\",\n          children: [this.state.swapPrompt ? /*#__PURE__*/_jsxDEV(H5PEditorUI, {\n            ref: this.h5pEditor,\n            contentId: '1073169946',\n            loadContentCallback: this.props.contentService.getEdit,\n            saveContentCallback: this.props.contentService.save,\n            onSaved: this.onSaved,\n            onLoaded: this.onEditorLoaded,\n            onSaveError: this.onSaveError\n          }, this.state.promptEdit ? 'promptEdit' : 'regularEdit', false, {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(H5PEditorUI, {\n            ref: this.h5pEditor,\n            contentId: this.props.data.contentId,\n            loadContentCallback: this.props.contentService.getEdit,\n            saveContentCallback: this.props.contentService.save,\n            onSaved: this.onSaved,\n            onLoaded: this.onEditorLoaded,\n            onSaveError: this.onSaveError\n          }, this.state.promptEdit ? 'promptEdit' : 'regularEdit', false, {\n            fileName: _jsxFileName,\n            lineNumber: 280,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"input-wrapper\",\n            children: [this.state.showStars && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"star-rating\",\n              children: [[1, 2, 3, 4, 5].map(star => /*#__PURE__*/_jsxDEV(\"span\", {\n                className: star <= this.state.starRating ? 'filled' : 'empty',\n                onClick: () => this.handleStarRatingChange(star),\n                children: \"\\u2605\"\n              }, star, false, {\n                fileName: _jsxFileName,\n                lineNumber: 296,\n                columnNumber: 23\n              }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"star-buttons\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => this.handleButtonRatingChange('Significantly Better'),\n                  className: this.state.selectedButtonIndex === 'Significantly Better' ? 'selected' : '',\n                  children: \"Significantly Better\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 307,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => this.handleButtonRatingChange('Better'),\n                  className: this.state.selectedButtonIndex === 'Better' ? 'selected' : '',\n                  children: \"Better\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 320,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => this.handleButtonRatingChange('Slightly Better'),\n                  className: this.state.selectedButtonIndex === 'Slightly Better' ? 'selected' : '',\n                  children: \"Slightly Better\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 330,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => this.handleButtonRatingChange('Negligibly Better/Unsure'),\n                  className: this.state.selectedButtonIndex === 'Negligibly Better/Unsure' ? 'selected' : '',\n                  children: \"Negligibly Better / Unsure\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 342,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 306,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 294,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              id: \"chatbox\",\n              name: \"gpt\",\n              className: \"input\",\n              value: this.state.inputValue,\n              onChange: event => this.setState({\n                inputValue: event.target.value\n              }),\n              onFocus: event => this.setState({\n                inputValue: ''\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 361,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"generate-button\",\n              onClick: () => this.prompt(this.state.inputValue),\n              children: \"Generate\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 372,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              className: \"p-2\",\n              lg: \"auto\",\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"primary\",\n                className: \"labels-button\",\n                onClick: this.toggleLabelsComponent,\n                children: \"Add Labels\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 379,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 378,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 292,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 267,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 11\n      }, this) : undefined, this.state.showLabels && /*#__PURE__*/_jsxDEV(Modal, {\n        show: this.state.showLabels,\n        onHide: this.toggleLabelsComponentoff,\n        children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n          closeButton: true,\n          children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n            children: \"Labels\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 397,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 396,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n          children: /*#__PURE__*/_jsxDEV(Label, {\n            saveLabels: this.saveLabels\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 400,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 399,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 392,\n        columnNumber: 11\n      }, this), this.state.playing ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: this.state.loading ? 'loading' : '',\n        children: [/*#__PURE__*/_jsxDEV(H5PPlayerUI, {\n          ref: this.h5pPlayer,\n          contentId: this.props.data.contentId,\n          loadContentCallback: this.props.contentService.getPlay,\n          onInitialized: this.onPlayerInitialized,\n          onxAPIStatement: (statement, context, event) => console.log(statement, context, event)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 406,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            visibility: this.state.loading ? 'visible' : 'collapse'\n          },\n          className: \"spinner-border spinner-border-sm m-2\",\n          role: \"status\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 415,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 405,\n        columnNumber: 11\n      }, this) : undefined, /*#__PURE__*/_jsxDEV(Modal, {\n        show: this.state.showingCustomCopyright,\n        children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n          children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n            children: \"Copyright information\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 426,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 425,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            dangerouslySetInnerHTML: {\n              __html: (_this$h5pPlayer$curre2 = (_this$h5pPlayer$curre3 = this.h5pPlayer.current) === null || _this$h5pPlayer$curre3 === void 0 ? void 0 : _this$h5pPlayer$curre3.getCopyrightHtml()) !== null && _this$h5pPlayer$curre2 !== void 0 ? _this$h5pPlayer$curre2 : 'No copyright information'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 430,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 429,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"primary\",\n            onClick: () => {\n              this.closeCopyrightCustom();\n            },\n            children: \"Close\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 440,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 439,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 424,\n        columnNumber: 9\n      }, this)]\n    }, (_this$props$data$orig = this.props.data.originalNewKey) !== null && _this$props$data$orig !== void 0 ? _this$props$data$orig : this.props.data.contentId, true, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }, this);\n  }\n  play() {\n    this.setState({\n      editing: false,\n      playing: true\n    });\n  }\n  clearInput(element) {\n    if (element.value === 'Describe what activity you would like to make') element.value = '';\n  }\n  edit() {\n    this.setState({\n      editing: true,\n      playing: false\n    });\n  }\n  switchPrompt() {\n    this.setState({\n      swapPrompt: true\n    });\n  }\n  close() {\n    this.setState({\n      editing: false,\n      playing: false\n    });\n  }\n  showCopyrightCustom() {\n    this.setState({\n      showingCustomCopyright: true\n    });\n  }\n  closeCopyrightCustom() {\n    this.setState({\n      showingCustomCopyright: false\n    });\n  }\n  showCopyrightNative() {\n    var _this$h5pPlayer$curre4;\n    (_this$h5pPlayer$curre4 = this.h5pPlayer.current) === null || _this$h5pPlayer$curre4 === void 0 ? void 0 : _this$h5pPlayer$curre4.showCopyright();\n  }\n  async save() {\n    this.setState({\n      saving: true\n    });\n    try {\n      var _this$h5pEditor$curre;\n      const returnData = await ((_this$h5pEditor$curre = this.h5pEditor.current) === null || _this$h5pEditor$curre === void 0 ? void 0 : _this$h5pEditor$curre.save());\n      if (returnData) {\n        await this.props.onSaved({\n          contentId: returnData.contentId,\n          mainLibrary: returnData.metadata.mainLibrary,\n          title: returnData.metadata.title,\n          originalNewKey: this.props.data.originalNewKey\n        });\n      }\n    } catch (error) {\n      // We ignore the error, as we subscribe to the 'save-error' and\n      // 'validation-error' events.\n    }\n  }\n\n  // currently working on the prompting backend...\n  // Need to build a this.prompt() method for the onClick response within the\n  //generate button. This will call a method from the content service.\n  // the method in the content service will send a post request to the server\n  // the server will have an endpoint that accepts text and a content type.\n\n  // get an error box to pop up. add the save() function to the output of the prompt\n  async prompt(prompt) {\n    var _this$h5pEditor$curre2, _this$h5pEditor$curre3, _this$h5pEditor$curre4, _this$h5pEditor$curre5, _this$h5pEditor$curre6;\n    const ctype = (_this$h5pEditor$curre2 = this.h5pEditor.current) === null || _this$h5pEditor$curre2 === void 0 ? void 0 : (_this$h5pEditor$curre3 = _this$h5pEditor$curre2.h5pEditor) === null || _this$h5pEditor$curre3 === void 0 ? void 0 : (_this$h5pEditor$curre4 = _this$h5pEditor$curre3.current) === null || _this$h5pEditor$curre4 === void 0 ? void 0 : (_this$h5pEditor$curre5 = _this$h5pEditor$curre4.editorInstance) === null || _this$h5pEditor$curre5 === void 0 ? void 0 : (_this$h5pEditor$curre6 = _this$h5pEditor$curre5.selector) === null || _this$h5pEditor$curre6 === void 0 ? void 0 : _this$h5pEditor$curre6.currentLibrary;\n    if (!ctype) {\n      console.log('No content type has been selected');\n    } else {\n      console.log(`${ctype} has successfully been selected`);\n      const res = await this.props.contentService.prompt(prompt, ctype);\n      console.log('this is res', res);\n\n      // this.props.onSaved({\n      //   contentId: res.p1.contentId,\n      //   mainLibrary: res.metadata.mainLibrary,\n      //   title: res.metadata.title,\n      //   originalNewKey: this.props.data.originalNewKey,\n      // });\n\n      if (res) {\n        console.log('the dual prompt is working');\n        // this.props.onSaved({\n        //   contentId: (await res.p2).contentId,\n        //   mainLibrary: (await res.p2).metadata.mainLibrary,\n        //   title: (await res.p2).metadata.title,\n        //   originalNewKey: this.props.data.originalNewKey,\n        // });\n        this.setState({\n          generatedPrompt: (await res.p2).contentId\n        });\n        this.props.onSaved({\n          contentId: (await res.p1).contentId,\n          mainLibrary: (await res.p1).metadata.mainLibrary,\n          title: (await res.p1).metadata.title,\n          originalNewKey: this.props.data.originalNewKey\n        });\n        this.setState({\n          promptEdit: true\n        });\n        this.setState({\n          showStars: true\n        });\n        console.log('data object created successfully ');\n      }\n    }\n  }\n  isNew() {\n    return this.props.data.contentId === 'new';\n  }\n}","map":{"version":3,"names":["React","ListGroupItem","Container","Row","Col","Button","Overlay","Tooltip","Dropdown","Modal","FontAwesomeIcon","faFingerprint","faBookOpen","faWindowClose","faSave","faCheck","faPlay","faPencilAlt","faFileDownload","faTrashAlt","faCopyright","H5PEditorUI","H5PPlayerUI","Label","jsxDEV","_jsxDEV","ContentListEntryComponent","Component","constructor","props","state","h5pPlayer","h5pEditor","saveButton","onPlayerInitialized","setState","loading","onSaveError","event","saving","saved","saveError","saveErrorMessage","setTimeout","onSaved","onEditorLoaded","selectedElement","data","mainLibrary","console","log","inputValue","toggleLabelsComponent","showLabels","toggleLabelsComponentoff","saveLabels","selectedLabels","handleStarRatingChange","rating","starRating","handleButtonRatingChange","review","promptEval","editing","contentId","playing","showingCustomCopyright","promptEdit","showStars","swapPrompt","secondPrompt","selectedButtonIndex","createRef","render","_this$props$data$orig","_this$h5pPlayer$curre","_this$h5pPlayer$curre2","_this$h5pPlayer$curre3","children","className","title","fileName","_jsxFileName","lineNumber","columnNumber","lg","icon","variant","onClick","close","undefined","current","hasCopyrightInformation","Toggle","Menu","Item","showCopyrightCustom","showCopyrightNative","target","show","placement","id","ref","disabled","save","role","isNew","onDiscard","Fragment","play","edit","href","generateDownloadLink","onDelete","switchPrompt","loadContentCallback","contentService","getEdit","saveContentCallback","onLoaded","map","star","name","value","onChange","onFocus","prompt","onHide","Header","closeButton","Title","Body","getPlay","onInitialized","onxAPIStatement","statement","context","style","visibility","dangerouslySetInnerHTML","__html","getCopyrightHtml","Footer","closeCopyrightCustom","originalNewKey","clearInput","element","_this$h5pPlayer$curre4","showCopyright","_this$h5pEditor$curre","returnData","metadata","error","_this$h5pEditor$curre2","_this$h5pEditor$curre3","_this$h5pEditor$curre4","_this$h5pEditor$curre5","_this$h5pEditor$curre6","ctype","editorInstance","selector","currentLibrary","res","generatedPrompt","p2","p1"],"sources":["/Users/maxoliverstapyltonnorris/contenti-mono/client/src/components/ContentListEntryComponent.tsx"],"sourcesContent":["import React from 'react';\nimport ListGroupItem from 'react-bootstrap/ListGroupItem';\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Button from 'react-bootstrap/Button';\nimport Overlay from 'react-bootstrap/Overlay';\nimport Tooltip from 'react-bootstrap/Tooltip';\nimport Dropdown from 'react-bootstrap/Dropdown';\nimport Modal from 'react-bootstrap/Modal';\n\n// want to add button ai button to generate new content and runs save on completion\n// there will be a post request to h5p content file\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport {\n  faFingerprint,\n  faBookOpen,\n  faWindowClose,\n  faSave,\n  faCheck,\n  faPlay,\n  faPencilAlt,\n  faFileDownload,\n  faTrashAlt,\n  faCopyright,\n} from '@fortawesome/free-solid-svg-icons';\n\nimport { H5PEditorUI, H5PPlayerUI } from '@lumieducation/h5p-react';\n\nimport { IContentListEntry, IContentService } from '../services/ContentService';\nimport './ContentListEntryComponent.css';\nimport { runInNewContext, runInThisContext } from 'vm';\nimport Label from './LabelsMetadataComponent';\n\nexport default class ContentListEntryComponent extends React.Component<{\n  contentService: IContentService;\n  data: IContentListEntry;\n  onDelete: (content: IContentListEntry) => void;\n  onDiscard: (content: IContentListEntry) => void;\n  onSaved: (data: IContentListEntry) => void;\n  generateDownloadLink: (contentId: string) => string;\n}> {\n  constructor(props: {\n    contentService: IContentService;\n    data: IContentListEntry;\n    onDiscard: (content: IContentListEntry) => void;\n    onDelete: (content: IContentListEntry) => void;\n    onSaved: (data: IContentListEntry) => void;\n\n    generateDownloadLink: (contentId: string) => string;\n  }) {\n    super(props);\n    this.state = {\n      editing: props.data.contentId === 'new',\n      playing: false,\n      saving: false,\n      saved: false,\n      loading: true,\n      saveErrorMessage: '',\n      saveError: false,\n      showingCustomCopyright: false,\n      inputValue: 'Please select a content type to start',\n      promptEdit: false,\n      starRating: 0,\n      showStars: false,\n      swapPrompt: false,\n      secondPrompt: '',\n      showLabels: false,\n      promptEval: '',\n      selectedButtonIndex: '',\n    };\n    this.h5pEditor = React.createRef();\n    this.saveButton = React.createRef();\n    this.h5pPlayer = React.createRef();\n  }\n\n  public state: {\n    editing: boolean;\n    loading: boolean;\n    playing: boolean;\n    saved: boolean;\n    saving: boolean;\n    saveError: boolean;\n    saveErrorMessage: string;\n    showingCustomCopyright: boolean;\n    inputValue: string;\n    promptEdit: boolean;\n    starRating: number;\n    showStars: boolean;\n    swapPrompt: boolean;\n    secondPrompt: string;\n    showLabels: boolean;\n    promptEval: string;\n    selectedButtonIndex: string;\n  };\n\n  private h5pPlayer: React.RefObject<H5PPlayerUI>;\n  private h5pEditor: React.RefObject<H5PEditorUI>;\n  private saveButton: React.RefObject<HTMLButtonElement>;\n\n  public render(): React.ReactNode {\n    return (\n      <ListGroupItem\n        key={this.props.data.originalNewKey ?? this.props.data.contentId}\n      >\n        <Container>\n          <Row>\n            <Col className=\"p-2\">\n              <h5>{this.props.data.title}</h5>\n              <Row className=\"small\">\n                <Col className=\"me-2\" lg=\"auto\">\n                  <FontAwesomeIcon icon={faBookOpen} className=\"me-1\" />\n                  {this.props.data.mainLibrary}\n                </Col>\n                <Col className=\"me-2\" lg=\"auto\">\n                  <FontAwesomeIcon icon={faFingerprint} className=\"me-1\" />\n                  {this.props.data.contentId}\n                </Col>\n              </Row>\n            </Col>\n            {this.state.playing ? (\n              <Col className=\"p-2\" lg=\"auto\">\n                <Button variant=\"light\" onClick={() => this.close()}>\n                  <FontAwesomeIcon icon={faWindowClose} className=\"me-2\" />\n                  close player\n                </Button>\n              </Col>\n            ) : undefined}\n            {this.state.playing &&\n            this.h5pPlayer.current?.hasCopyrightInformation() ? (\n              <Col className=\"p-2\" lg=\"auto\">\n                <Dropdown>\n                  <Dropdown.Toggle variant=\"light\">\n                    <span>\n                      <FontAwesomeIcon icon={faCopyright} className=\"me-2\" />\n                      Copyright\n                    </span>\n                  </Dropdown.Toggle>\n                  <Dropdown.Menu>\n                    <Dropdown.Item\n                      onClick={() => {\n                        this.showCopyrightCustom();\n                      }}\n                    >\n                      Show in custom dialog\n                    </Dropdown.Item>\n                    <Dropdown.Item\n                      onClick={() => {\n                        this.showCopyrightNative();\n                      }}\n                    >\n                      Show in native H5P dialog\n                    </Dropdown.Item>\n                  </Dropdown.Menu>\n                </Dropdown>\n              </Col>\n            ) : undefined}\n            {this.state.editing ? (\n              <Col className=\"p-2\" lg=\"auto\">\n                <Overlay\n                  target={this.saveButton.current}\n                  show={this.state.saveError}\n                  placement=\"right\"\n                >\n                  <Tooltip id=\"error-tooltip\">\n                    {this.state.saveErrorMessage}\n                  </Tooltip>\n                </Overlay>\n                <Button\n                  ref={this.saveButton}\n                  variant=\"primary\"\n                  className={\n                    this.state.saving || this.state.loading ? 'disabled' : ''\n                  }\n                  disabled={this.state.saving || this.state.loading}\n                  onClick={() => this.save()}\n                >\n                  {this.state.saving ? (\n                    <div\n                      className=\"spinner-border spinner-border-sm m-1 align-middle\"\n                      role=\"status\"\n                    ></div>\n                  ) : (\n                    <FontAwesomeIcon icon={faSave} className=\"me-2\" />\n                  )}{' '}\n                  save{' '}\n                  {this.state.saved ? (\n                    <FontAwesomeIcon icon={faCheck} className=\"me-2\" />\n                  ) : undefined}\n                </Button>\n              </Col>\n            ) : undefined}\n            {this.state.editing && !this.isNew() ? (\n              <Col className=\"p-2\" lg=\"auto\">\n                <Button variant=\"light\" onClick={() => this.close()}>\n                  <FontAwesomeIcon icon={faWindowClose} className=\"me-2\" />\n                  close editor\n                </Button>\n              </Col>\n            ) : undefined}\n            {this.state.editing && this.isNew() ? (\n              <Col className=\"p-2\" lg=\"auto\">\n                <Button\n                  variant=\"light\"\n                  onClick={() => this.props.onDiscard(this.props.data)}\n                >\n                  <FontAwesomeIcon icon={faWindowClose} className=\"me-2\" />\n                  discard\n                </Button>\n              </Col>\n            ) : undefined}\n            {!this.isNew() ? (\n              <React.Fragment>\n                <Col className=\"p-2\" lg=\"auto\">\n                  <Button variant=\"success\" onClick={() => this.play()}>\n                    <FontAwesomeIcon icon={faPlay} className=\"me-2\" />\n                    play\n                  </Button>\n                </Col>\n                <Col className=\"p-2\" lg=\"auto\">\n                  <Button variant=\"secondary\" onClick={() => this.edit()}>\n                    <FontAwesomeIcon icon={faPencilAlt} className=\"me-2\" />\n                    edit\n                  </Button>\n                </Col>{' '}\n                <Col className=\"p-2\" lg=\"auto\">\n                  <a\n                    href={this.props.generateDownloadLink(\n                      this.props.data.contentId\n                    )}\n                  >\n                    <Button variant=\"info\">\n                      <FontAwesomeIcon icon={faFileDownload} className=\"me-2\" />\n                      download\n                    </Button>\n                  </a>\n                </Col>\n                <Col className=\"p-2\" lg=\"auto\">\n                  <Button\n                    variant=\"danger\"\n                    onClick={() => this.props.onDelete(this.props.data)}\n                  >\n                    <FontAwesomeIcon icon={faTrashAlt} className=\"me-2\" />\n                    delete\n                  </Button>\n                </Col>\n              </React.Fragment>\n            ) : undefined}\n            {this.state.promptEdit ? (\n              <Col className=\"p-2\" lg=\"auto\">\n                <Button variant=\"primary\" onClick={() => this.switchPrompt()}>\n                  Switch Prompt\n                </Button>\n              </Col>\n            ) : undefined}\n          </Row>\n        </Container>\n        {this.state.editing ? (\n          <div\n            className={\n              this.props.data.contentId !== 'new' && this.state.loading\n                ? 'loading'\n                : ''\n            }\n          >\n            <div className=\"h5p-input-container\">\n              {this.state.swapPrompt ? (\n                <H5PEditorUI\n                  key={this.state.promptEdit ? 'promptEdit' : 'regularEdit'}\n                  ref={this.h5pEditor}\n                  contentId={'1073169946'}\n                  loadContentCallback={this.props.contentService.getEdit}\n                  saveContentCallback={this.props.contentService.save}\n                  onSaved={this.onSaved}\n                  onLoaded={this.onEditorLoaded}\n                  onSaveError={this.onSaveError}\n                />\n              ) : (\n                <H5PEditorUI\n                  key={this.state.promptEdit ? 'promptEdit' : 'regularEdit'}\n                  ref={this.h5pEditor}\n                  contentId={this.props.data.contentId}\n                  loadContentCallback={this.props.contentService.getEdit}\n                  saveContentCallback={this.props.contentService.save}\n                  onSaved={this.onSaved}\n                  onLoaded={this.onEditorLoaded}\n                  onSaveError={this.onSaveError}\n                />\n              )}\n\n              <div className=\"input-wrapper\">\n                {this.state.showStars && (\n                  <div className=\"star-rating\">\n                    {[1, 2, 3, 4, 5].map((star) => (\n                      <span\n                        key={star}\n                        className={\n                          star <= this.state.starRating ? 'filled' : 'empty'\n                        }\n                        onClick={() => this.handleStarRatingChange(star)}\n                      >\n                        â˜…\n                      </span>\n                    ))}\n                    <div className=\"star-buttons\">\n                      <button\n                        onClick={() =>\n                          this.handleButtonRatingChange('Significantly Better')\n                        }\n                        className={\n                          this.state.selectedButtonIndex ===\n                          'Significantly Better'\n                            ? 'selected'\n                            : ''\n                        }\n                      >\n                        Significantly Better\n                      </button>\n                      <button\n                        onClick={() => this.handleButtonRatingChange('Better')}\n                        className={\n                          this.state.selectedButtonIndex === 'Better'\n                            ? 'selected'\n                            : ''\n                        }\n                      >\n                        Better\n                      </button>\n                      <button\n                        onClick={() =>\n                          this.handleButtonRatingChange('Slightly Better')\n                        }\n                        className={\n                          this.state.selectedButtonIndex === 'Slightly Better'\n                            ? 'selected'\n                            : ''\n                        }\n                      >\n                        Slightly Better\n                      </button>\n                      <button\n                        onClick={() =>\n                          this.handleButtonRatingChange(\n                            'Negligibly Better/Unsure'\n                          )\n                        }\n                        className={\n                          this.state.selectedButtonIndex ===\n                          'Negligibly Better/Unsure'\n                            ? 'selected'\n                            : ''\n                        }\n                      >\n                        Negligibly Better / Unsure\n                      </button>\n                    </div>\n                  </div>\n                )}\n\n                <textarea\n                  id=\"chatbox\"\n                  name=\"gpt\"\n                  className=\"input\"\n                  value={this.state.inputValue}\n                  onChange={(event) =>\n                    this.setState({ inputValue: event.target.value })\n                  }\n                  onFocus={(event) => this.setState({ inputValue: '' })}\n                />\n\n                <button\n                  className=\"generate-button\"\n                  onClick={() => this.prompt(this.state.inputValue)}\n                >\n                  Generate\n                </button>\n                <Col className=\"p-2\" lg=\"auto\">\n                  <Button\n                    variant=\"primary\"\n                    className=\"labels-button\"\n                    onClick={this.toggleLabelsComponent}\n                  >\n                    Add Labels\n                  </Button>\n                </Col>\n              </div>\n            </div>\n          </div>\n        ) : undefined}\n        {this.state.showLabels && (\n          <Modal\n            show={this.state.showLabels}\n            onHide={this.toggleLabelsComponentoff}\n          >\n            <Modal.Header closeButton>\n              <Modal.Title>Labels</Modal.Title>\n            </Modal.Header>\n            <Modal.Body>\n              <Label saveLabels={this.saveLabels} />\n            </Modal.Body>\n          </Modal>\n        )}\n        {this.state.playing ? (\n          <div className={this.state.loading ? 'loading' : ''}>\n            <H5PPlayerUI\n              ref={this.h5pPlayer}\n              contentId={this.props.data.contentId}\n              loadContentCallback={this.props.contentService.getPlay}\n              onInitialized={this.onPlayerInitialized}\n              onxAPIStatement={(statement: any, context: any, event) =>\n                console.log(statement, context, event)\n              }\n            />\n            <div\n              style={{\n                visibility: this.state.loading ? 'visible' : 'collapse',\n              }}\n              className=\"spinner-border spinner-border-sm m-2\"\n              role=\"status\"\n            ></div>\n          </div>\n        ) : undefined}\n        <Modal show={this.state.showingCustomCopyright}>\n          <Modal.Header>\n            <Modal.Title>Copyright information</Modal.Title>\n          </Modal.Header>\n\n          <Modal.Body>\n            <div\n              dangerouslySetInnerHTML={{\n                __html:\n                  this.h5pPlayer.current?.getCopyrightHtml() ??\n                  'No copyright information',\n              }}\n            ></div>\n          </Modal.Body>\n\n          <Modal.Footer>\n            <Button\n              variant=\"primary\"\n              onClick={() => {\n                this.closeCopyrightCustom();\n              }}\n            >\n              Close\n            </Button>\n          </Modal.Footer>\n        </Modal>\n      </ListGroupItem>\n    );\n  }\n\n  protected play() {\n    this.setState({ editing: false, playing: true });\n  }\n\n  protected clearInput(element: HTMLInputElement) {\n    if (element.value === 'Describe what activity you would like to make')\n      element.value = '';\n  }\n  protected edit() {\n    this.setState({ editing: true, playing: false });\n  }\n\n  protected switchPrompt() {\n    this.setState({ swapPrompt: true });\n  }\n\n  protected close() {\n    this.setState({ editing: false, playing: false });\n  }\n\n  protected showCopyrightCustom() {\n    this.setState({ showingCustomCopyright: true });\n  }\n\n  protected closeCopyrightCustom() {\n    this.setState({ showingCustomCopyright: false });\n  }\n\n  protected showCopyrightNative() {\n    this.h5pPlayer.current?.showCopyright();\n  }\n\n  private onPlayerInitialized = () => {\n    this.setState({ loading: false });\n  };\n\n  protected async save() {\n    this.setState({ saving: true });\n    try {\n      const returnData = await this.h5pEditor.current?.save();\n\n      if (returnData) {\n        await this.props.onSaved({\n          contentId: returnData.contentId,\n          mainLibrary: returnData.metadata.mainLibrary,\n          title: returnData.metadata.title,\n          originalNewKey: this.props.data.originalNewKey,\n        });\n      }\n    } catch (error) {\n      // We ignore the error, as we subscribe to the 'save-error' and\n      // 'validation-error' events.\n    }\n  }\n\n  // currently working on the prompting backend...\n  // Need to build a this.prompt() method for the onClick response within the\n  //generate button. This will call a method from the content service.\n  // the method in the content service will send a post request to the server\n  // the server will have an endpoint that accepts text and a content type.\n\n  // get an error box to pop up. add the save() function to the output of the prompt\n  protected async prompt(prompt: string) {\n    const ctype =\n      this.h5pEditor.current?.h5pEditor?.current?.editorInstance?.selector\n        ?.currentLibrary;\n\n    if (!ctype) {\n      console.log('No content type has been selected');\n    } else {\n      console.log(`${ctype} has successfully been selected`);\n      const res = await this.props.contentService.prompt(prompt, ctype);\n      console.log('this is res', res);\n\n      // this.props.onSaved({\n      //   contentId: res.p1.contentId,\n      //   mainLibrary: res.metadata.mainLibrary,\n      //   title: res.metadata.title,\n      //   originalNewKey: this.props.data.originalNewKey,\n      // });\n\n      if (res) {\n        console.log('the dual prompt is working');\n        // this.props.onSaved({\n        //   contentId: (await res.p2).contentId,\n        //   mainLibrary: (await res.p2).metadata.mainLibrary,\n        //   title: (await res.p2).metadata.title,\n        //   originalNewKey: this.props.data.originalNewKey,\n        // });\n        this.setState({ generatedPrompt: (await res.p2).contentId });\n        this.props.onSaved({\n          contentId: (await res.p1).contentId,\n          mainLibrary: (await res.p1).metadata.mainLibrary,\n          title: (await res.p1).metadata.title,\n          originalNewKey: this.props.data.originalNewKey,\n        });\n        this.setState({ promptEdit: true });\n        this.setState({ showStars: true });\n\n        console.log('data object created successfully ');\n      }\n    }\n  }\n\n  protected onSaveError = async (event: any) => {\n    this.setState({\n      saving: false,\n      saved: false,\n      saveError: true,\n      saveErrorMessage: 'this doesnt work', // event.detail.message,\n    });\n    setTimeout(() => {\n      this.setState({\n        saveError: false,\n      });\n    }, 5000);\n  };\n\n  // NOTE that this onSaved is diferent\n  protected onSaved = async (event: any) => {\n    this.setState({\n      saving: false,\n      saved: true,\n    });\n    setTimeout(() => {\n      this.setState({ saved: false });\n    }, 3000);\n  };\n\n  protected onEditorLoaded = () => {\n    this.setState({ loading: false });\n\n    const selectedElement = this.props.data.mainLibrary;\n    console.log(selectedElement);\n    this.setState({\n      inputValue: `You have selected ${selectedElement}. \\nPlease try to be specific and creative in your prompting, examples include: \\n\\n1) Specifying particular pedagogical terms such as \"aim higher questions\" or \"scaffolded questions\".\\n\\n 2)Anchor the prompt to a specific syllabus e.g \"Make sure the questions are suitable for GCSE english\".   `,\n    });\n  };\n\n  protected toggleLabelsComponent = () => {\n    this.setState(() => ({\n      showLabels: true, // Access the 'showLabels' directly\n    }));\n  };\n\n  protected toggleLabelsComponentoff = () => {\n    console.log('closing');\n    this.setState(() => ({\n      showLabels: false, // Access the 'showLabels' directly\n    }));\n  };\n\n  saveLabels = (selectedLabels: string[]) => {\n    // Process and save the selected labels here\n    // For example, you can store them in the component's state or call a service to save them\n    console.log('this should be closing');\n    this.toggleLabelsComponentoff(); // Close the modal when labels are saved\n    console.log('this should be closing');\n    console.log('Selected Labels:', selectedLabels);\n  };\n\n  handleStarRatingChange = (rating: number) => {\n    this.setState({ starRating: rating });\n  };\n\n  handleButtonRatingChange = (review: string) => {\n    this.setState({ promptEval: review });\n  };\n\n  private isNew() {\n    return this.props.data.contentId === 'new';\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}